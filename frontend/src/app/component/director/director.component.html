<!-- Pills navs -->
<ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
  <li class="nav-item" role="presentation">
    <a
      class="nav-link active"
      id="ex3-tab-1"
      data-mdb-toggle="pill"
      href="#ex3-pills-1"
      role="tab"
      aria-controls="ex3-pills-1"
      aria-selected="true"
      >All Movies</a
    >
  </li>
  <li class="nav-item" role="presentation">
    <a
      class="nav-link"
      id="ex3-tab-2"
      data-mdb-toggle="pill"
      href="#ex3-pills-2"
      role="tab"
      aria-controls="ex3-pills-2"
      aria-selected="false"
      >Buyout &nbsp; <i class="fa-solid fa-video"></i
    ></a>
  </li>
</ul>
<!-- Pills navs -->

<!-- Pills content -->
<div class="tab-content" id="ex2-content">
  <div
    class="tab-pane fade show active"
    id="ex3-pills-1"
    role="tabpanel"
    aria-labelledby="ex3-tab-1"
  >
    <h1 class="font-weight-bold text-center" style="margin-bottom: 2rem">
      Movies Panel
    </h1>
    <div [ngClass]="className" role="alert">
      {{message}}
    </div>
    <div class="button-flex">
      <button
        type="button"
        style="margin-right: 1rem"
        class="btn btn-success"
        data-mdb-toggle="modal"
        data-mdb-target="#exampleModal"
      >
        Add
      </button>

      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center" id="exampleModalLabel">
                Add Movies
              </h5>
              <button
                type="button"
                class="btn-close"
                data-mdb-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form [formGroup]="addform">
                <div class="mb-3">
                  <label for="exampleInputEmail1" class="form-label"
                    >Name</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputEmail1"
                    aria-describedby="emailHelp"
                    formControlName="name"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Image</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="image"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Age</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="age"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Release</label
                  >
                  <input
                    type="date"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="release"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Type</label
                  ><br />
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      id="inlineRadio1"
                      value="Action"
                      formControlName="type"
                    />
                    <label class="form-check-label" for="inlineRadio1"
                      >Action</label
                    >
                  </div>
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      id="inlineRadio2"
                      value="Comedy"
                      formControlName="type"
                    />
                    <label class="form-check-label" for="inlineRadio2"
                      >Comedy</label
                    >
                  </div>
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Amount</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="amount"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Description</label
                  >
                  <div class="form-floating">
                    <textarea
                      class="form-control"
                      placeholder="Write movie description here"
                      id="floatingTextarea2"
                      style="height: 100px"
                      formControlName="description"
                    ></textarea>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-mdb-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                (click)="addMovies()"
                class="btn btn-primary"
                data-mdb-dismiss="modal"
              >
                Save changes
              </button>
            </div>
          </div>
        </div>
      </div>

      <button
        type="button"
        (click)="deleteMovie()"
        style="margin-right: 1rem"
        class="btn btn-danger"
        data-toggle="tooltip"
        data-placement="top"
        title="You must select movie"
      >
        Delete
      </button>
      <button
        type="button"
        (click)="editMovies()"
        data-mdb-toggle="modal"
        data-mdb-target="#exampleModal1"
        class="btn btn-warning"
        data-toggle="tooltip"
        data-placement="top"
        title="You must select movie"
      >
        Edit
      </button>
      <div
        class="modal fade"
        id="exampleModal1"
        tabindex="-1"
        aria-labelledby="exampleModalLabel1"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center" id="exampleModalLabel1">
                Edit Movies
              </h5>
              <button
                type="button"
                class="btn-close"
                data-mdb-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form [formGroup]="editform">
                <div class="mb-3">
                  <label for="exampleInputEmail1" class="form-label"
                    >Name</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputEmail1"
                    aria-describedby="emailHelp"
                    formControlName="name"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Image</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="image"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Age</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="age"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Release</label
                  >
                  <input
                    type="date"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="release"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Type</label
                  ><br />
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      id="inlineRadio1"
                      value="Action"
                      formControlName="type"
                    />
                    <label class="form-check-label" for="inlineRadio1"
                      >Action</label
                    >
                  </div>
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      id="inlineRadio2"
                      value="Comedy"
                      formControlName="type"
                    />
                    <label class="form-check-label" for="inlineRadio2"
                      >Comedy</label
                    >
                  </div>
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Amount</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="exampleInputPassword1"
                    formControlName="amount"
                  />
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label"
                    >Description</label
                  >
                  <div class="form-floating">
                    <textarea
                      class="form-control"
                      placeholder="Write movie description here"
                      id="floatingTextarea2"
                      style="height: 100px"
                      formControlName="description"
                    ></textarea>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-mdb-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                (click)="savemovie()"
                class="btn btn-primary"
                data-mdb-dismiss="modal"
              >
                Save changes
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button
      type="button"
      (click)="getAll()"
      class="btn btn-primary btn-floating"
      style="float: right"
    >
      <i class="fa-solid fa-rotate-right"></i>
    </button>
    <br />

    <div class="row itms itemcont">
      <div
        class="col-md-6 col-xs-6 col-sm-6 col-lg-6"
        *ngFor="let item of Movies"
        style="margin-bottom: 2rem"
      >
        <div
          (click)="getDatabycard(item._id)"
          class="movie-card"
          style="background-image: url({{item.image}})"
        >
          <div class="movie-card__overlay"></div>
          <div class="movie-card__share">
            <button
              class="movie-card__icon"
              data-mdb-toggle="modal"
              data-mdb-target="#exampleModal1"
            >
              <i style="color: red" class="fa-solid fa-pen-to-square"></i>
            </button>
            <button class="movie-card__icon">
              <i style="color: red" class="fa-solid fa-trash"></i>
            </button>
          </div>
          <div class="movie-card__content">
            <div class="movie-card__header">
              <h1 class="movie-card__title">{{ item.name }}</h1>
              <h4 class="movie-card__info">
                ({{ item.release }}) {{ item.type }}
              </h4>
            </div>
            <p class="movie-card__desc">{{ item.description }}</p>
          </div>
          <div class="blur_back"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div
  class="tab-pane fade"
  id="ex3-pills-2"
  role="tabpanel"
  aria-labelledby="ex3-tab-2"
>
  <h1 class="text-center">Approve Movies</h1>
  <button
    (click)="getAll()"
    type="button"
    class="btn btn-primary btn-floating"
    style="background-color: #3b71ca; padding: 0; color: white; float: right"
  >
    <i class="fa-solid fa-arrows-rotate"></i>
  </button>
  <section class="table-responsive">
    <table class="table align-middle mb-0 bg-white" style="margin-top: 2rem">
      <thead class="bg-light">
        <tr>
          <th>Name</th>
          <th>Title</th>
          <th>Status</th>
          <th>Type</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of Movies">
          <td>
            <div class="d-flex align-items-center">
              <img
                src="{{ i.image }}"
                alt=""
                style="width: 45px; height: 45px"
                class="rounded-circle"
              />
              <div class="ms-3">
                <p class="fw-bold mb-1">{{ i.name }}</p>
              </div>
            </div>
          </td>
          <td>
            <p class="fw-normal mb-1">{{ i.age }}</p>
            <p class="text-muted mb-0">{{ i.release }}</p>
          </td>
          <td>
            <span
              *ngIf="i.buyout == true"
              class="badge badge-success rounded-pill d-inline"
              style="margin-right: 1rem"
              >Approved</span
            >
            <span
              *ngIf="i.buyout == false"
              class="badge badge-danger rounded-pill d-inline"
              style="margin-right: 1rem"
              >Not Approved</span
            >
            <span
              *ngIf="i.checkout == true"
              class="badge badge-primary rounded-pill d-inline"
              >Send</span
            >
            <span
              *ngIf="i.checkout == false"
              class="badge badge-warning rounded-pill d-inline"
              >Not Send</span
            >
          </td>
          <td>{{ i.type }}</td>
          <td>
            <button
              (click)="Checkout(i._id)"
              style="color: black; background: transparent; font-size: 1.5rem"
            >
              {{ i.checkout == false ? "➦" : "✖" }}
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</div>
<!-- Pills content -->
